apiVersion: v1
kind: ConfigMap
metadata:
  name: neo4j-config
data:
  neo4j.conf: |
    # Enable connectors
    dbms.connector.https.enabled=true
    dbms.connector.http.enabled=false
    dbms.connector.bolt.enabled=true
    dbms.connector.bolt.tls_level=REQUIRED
    
    # Advertised addresses
    dbms.connector.bolt.advertised_address=bolt.neo4j.apps.uswest70.bofa.com:443
    
    # CORS
    dbms.security.http_access_control_allow_origin=https://neo4j.apps.uswest70.bofa.com
    dbms.security.http_access_control_allow_headers=accept,authorization,content-type,x-requested-with
    
    # HTTPS SSL Policy
    dbms.ssl.policy.https.enabled=true
    dbms.ssl.policy.https.base_directory=certificates/https
    dbms.ssl.policy.https.private_key=private.key
    dbms.ssl.policy.https.public_certificate=public.crt
    dbms.ssl.policy.https.client_auth=NONE
    
    # Bolt SSL Policy  
    dbms.ssl.policy.bolt.enabled=true
    dbms.ssl.policy.bolt.base_directory=certificates/bolt
    dbms.ssl.policy.bolt.private_key=private.key
    dbms.ssl.policy.bolt.public_certificate=public.crt
    dbms.ssl.policy.bolt.client_auth=NONE
