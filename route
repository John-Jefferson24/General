apiVersion: v1
kind: ConfigMap
metadata:
  name: neo4j-config
data:
  neo4j.conf: |
    # Network Connectors (server.* format)
    server.https.enabled=true
    server.http.enabled=false
    server.bolt.enabled=true
    server.bolt.tls_level=REQUIRED
    server.bolt.advertised_address=bolt.neo4j.apps.uswest70.bofa.com:443
    
    # CORS for HTTPS UI
    dbms.security.http_access_control_allow_origin=https://neo4j.apps.uswest70.bofa.com
    dbms.security.http_access_control_allow_headers=accept,authorization,content-type,x-requested-with
    dbms.security.http_access_control_allow_methods=GET,POST,PUT,DELETE,OPTIONS
    
    # SSL Policies (dbms.ssl.policy.* format - unchanged)
    dbms.ssl.policy.https.enabled=true
    dbms.ssl.policy.https.base_directory=certificates/https
    dbms.ssl.policy.https.private_key=private.key
    dbms.ssl.policy.https.public_certificate=public.crt
    dbms.ssl.policy.https.client_auth=NONE
    
    dbms.ssl.policy.bolt.enabled=true
    dbms.ssl.policy.bolt.base_directory=certificates/bolt
    dbms.ssl.policy.bolt.private_key=private.key
    dbms.ssl.policy.bolt.public_certificate=public.crt
    dbms.ssl.policy.bolt.client_auth=NONE
