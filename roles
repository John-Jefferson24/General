livenessProbe:
  httpGet:
    path: /health/ready
    port: 9000
  initialDelaySeconds: 10
  periodSeconds: 20
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health/ready
    port: 9000
  initialDelaySeconds: 15
  periodSeconds: 10
  failureThreshold: 3


apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: triton-openai-route
  annotations:
    # Health check configuration
    haproxy.router.openshift.io/health_check_interval: "10s"
    haproxy.router.openshift.io/health_check_uri: "/health/ready"
    
    # Traffic management
    haproxy.router.openshift.io/balance: "roundrobin"
    haproxy.router.openshift.io/disable_cookies: "true"
    
    # Optional: Timeout settings
    haproxy.router.openshift.io/timeout: "60s"
    haproxy.router.openshift.io/timeout-tunnel: "1h"
    
    # Optional: Health check timeout
    haproxy.router.openshift.io/health_check_timeout: "5s"
spec:
  host: api.bank.com
  to:
    kind: Service
    name: triton-openai-service
    weight: 100
  port:
    targetPort: 9000
  tls:
    termination: edge  # or passthrough/reencrypt as needed
